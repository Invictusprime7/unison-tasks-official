# ğŸ¨ AI Web Builder Architecture

**Intelligent, Industry-Specific Website Generation System**

This AI Web Builder implements advanced design theory and component-based architecture to generate professional, conversion-optimized websites tailored to specific industries and brand personalities.

---

## ğŸ—ï¸ Architecture Overview

```
src/
â”œâ”€â”€ types/
â”‚   â””â”€â”€ aiWebBuilder.ts          # Comprehensive type system
â”œâ”€â”€ services/
â”‚   â””â”€â”€ ai/
â”‚       â”œâ”€â”€ planLayout.ts         # Intelligent layout planning
â”‚       â”œâ”€â”€ synthesizeTheme.ts    # Dynamic theme generation
â”‚       â”œâ”€â”€ generateReact.ts      # React code compilation
â”‚       â””â”€â”€ data/
â”‚           â”œâ”€â”€ components.json   # Component library registry
â”‚           â”œâ”€â”€ animationPresets.json  # Motion configurations
â”‚           â””â”€â”€ templates/
â”‚               â”œâ”€â”€ restaurant.json
â”‚               â”œâ”€â”€ portfolio.json
â”‚               â””â”€â”€ campaign.json
```

---

## ğŸ“‹ Core Concepts

### 1. **AIProjectRequest**

Input structure that defines what the user wants to build:

```typescript
interface AIProjectRequest {
  brand: {
    name: string;
    industry: "restaurant" | "portfolio" | "contracting" | "creator" | "ad_campaign" | "saas" | "ecommerce" | "blog" | "agency";
    tone?: "minimal" | "luxury" | "energetic" | "elegant" | "playful" | "techy" | "professional" | "creative";
    palette?: string[];  // Custom brand colors
    logo?: string;
    tagline?: string;
  };
  goals: string[];  // e.g., ["increase bookings", "showcase work", "generate leads"]
  features?: string[];  // e.g., ["online booking", "menu display", "gallery"]
  animationLevel?: "none" | "subtle" | "immersive";
  styleUniqueness?: number;  // 0-1: template-based â†’ highly unique
  layoutPreference?: "grid" | "freeform" | "split" | "parallax" | "carousel" | "masonry" | "bento";
  targetAudience?: string;
}
```

**Example Usage:**

```typescript
const restaurantProject: AIProjectRequest = {
  brand: {
    name: "Bella Cucina",
    industry: "restaurant",
    tone: "elegant",
    palette: ["#8B4513", "#D4AF37", "#2C1810"]
  },
  goals: ["showcase signature dishes", "increase reservations", "highlight ambiance"],
  features: ["interactive menu", "online booking", "photo gallery"],
  animationLevel: "subtle",
  styleUniqueness: 0.7,
  layoutPreference: "grid"
};
```

### 2. **AILayoutPlan**

The intelligent layout structure generated by the planning service:

```typescript
interface AILayoutPlan {
  gridSystem: "12-col" | "16-col" | "asymmetric";
  rhythm: "balanced" | "compressed" | "spacious" | "dynamic";
  sections: AILayoutSection[];
  colorPalette: ColorPalette;
  typography: TypographySystem;
}
```

### 3. **Component System**

40+ professional components across 7 categories:

#### **Navigation**
- `StickyNav` - Glass, Minimal, Solid variants
- `GlassNav` - Modern glassmorphism navigation
- `MinimalNav` - Clean minimal design
- `SidebarNav` - Side navigation panel

#### **Hero Sections**
- `AnimatedHero` - Gradient, Glass, Text-Focus variants
- `VideoHero` - Video background with overlays
- `HeroSplit` - Image-Right, Image-Left layouts
- `ParallaxHero` - Scroll-based parallax effects
- `GlassHero` - Glassmorphism hero
- `FullScreenHero` - Immersive full-screen

#### **Content Sections**
- `FeatureShowcase` - Highlight key features
- `FeatureGrid` - 3-col, 4-col, Bento layouts
- `PortfolioGrid` - Masonry, Bento, Grid variants
- `Gallery` - Grid, Masonry, Carousel layouts
- `ProductCarousel` - Featured product slider
- `ScrollingNarrative` - Story-based scrolling

#### **Interactive Components**
- `InteractiveMenu` - Tabs, Accordion, Grid for restaurants
- `BookingForm` - Inline, Modal reservation forms
- `ContactForm` - Standard contact forms
- `PricingTable` - Cards, Tabs, Comparison layouts
- `FAQAccordion` - Simple, Two-Column FAQs

#### **Stats & Social Proof**
- `StatsCounter` - Animated achievement metrics
- `TestimonialSlider` - Cards, Bubble, Quote variants
- `LogoCloud` - Client/partner logo grid
- `SocialProof` - Social metrics display

#### **Media**
- `VideoEmbed` - Featured video embedding
- `ImageFade` - Animated image loading
- `ImageGrid` - Uniform image grids
- `MasonryGallery` - Pinterest-style layout

#### **CTA & Conversion**
- `CTASection` - Gradient, Contrast, Animated variants
- `NewsletterSignup` - Email capture forms
- `LeadCapture` - Lead generation forms

#### **Footer**
- `FooterColumns` - Full, Contact variants
- `MinimalFooter` - Centered, Simple layouts
- `SocialFooter` - Social-focused footer

---

## ğŸ¨ Theme Synthesis

### Industry Color Palettes

Each industry has carefully crafted color palettes:

**Restaurant** â†’ Warm Bistro (amber, red, yellow tones)
**Portfolio** â†’ Minimal Studio (grayscale with blue accent)
**Contracting** â†’ Professional Build (blue, emerald, amber)
**Creator** â†’ Bold Creator (violet, pink, cyan)
**SaaS** â†’ Modern Tech (blue, violet, cyan)
**Ecommerce** â†’ Clean Commerce (emerald, cyan, amber)
**Agency** â†’ Creative Agency (violet, pink, teal)

### Tone Adjustments

Each tone modifies the base palette:

- **Minimal** - Reduced saturation, increased brightness
- **Luxury** - Slightly desaturated, sophisticated contrast
- **Energetic** - Boosted saturation, high contrast
- **Elegant** - Balanced saturation, refined contrast
- **Playful** - High saturation, bright colors
- **Techy** - Cool tones, high contrast
- **Professional** - Balanced, trustworthy
- **Creative** - Bold, expressive colors

### Typography Systems

Industry and tone-specific font pairings:

```typescript
{
  minimal: "Inter + Inter",
  luxury: "Playfair Display + Inter",
  energetic: "Outfit + Inter",
  elegant: "Cormorant Garamond + Lato",
  playful: "Fredoka + Inter",
  techy: "Space Grotesk + Inter",
  professional: "Inter + Inter",
  creative: "Outfit + Inter"
}
```

---

## ğŸ¬ Animation System

### Motion Presets

20+ pre-configured Framer Motion animations:

**Entrance Animations:**
- `fadeUp`, `fadeDown`, `fadeLeft`, `fadeRight`
- `slideLeft`, `slideRight`, `slideUp`, `slideDown`
- `zoomIn`, `zoomOut`
- `staggeredZoom` - For grids/lists
- `rotate`

**Continuous Animations:**
- `float` - Gentle floating motion
- `pulse` - Breathing scale effect
- `bounce` - Bouncing animation
- `parallax` - Scroll-based movement

**Interaction Animations:**
- `hoverLift` - Lift on hover
- `hoverScale` - Scale on hover
- `hoverRotate` - Rotate on hover
- `hoverGlow` - Shadow glow on hover
- `tapShrink` - Shrink on click

### Animation Levels

**None** - Static, no animations
**Subtle** - Fade/slide entrances, simple hover states
**Immersive** - Parallax, stagger effects, complex interactions

---

## ğŸ­ Usage Examples

### Example 1: Restaurant Website

```typescript
import { layoutPlanningService } from '@/services/ai/planLayout';
import { themeSynthesisService } from '@/services/ai/synthesizeTheme';

const request: AIProjectRequest = {
  brand: {
    name: "Noma",
    industry: "restaurant",
    tone: "luxury"
  },
  goals: ["showcase michelin star cuisine", "enable reservations"],
  features: ["tasting menu", "chef's table booking"],
  animationLevel: "subtle"
};

// Generate layout plan
const layoutResponse = await layoutPlanningService.planLayout(request);
// Result: VideoHero â†’ InteractiveMenu â†’ Gallery â†’ BookingForm â†’ Testimonials â†’ Footer

// Synthesize theme
const themeResponse = await themeSynthesisService.synthesizeTheme(request);
// Result: Warm Bistro palette + Playfair Display typography
```

### Example 2: Portfolio Website

```typescript
const portfolioRequest: AIProjectRequest = {
  brand: {
    name: "Alex Chen",
    industry: "portfolio",
    tone: "minimal"
  },
  goals: ["showcase design work", "attract clients"],
  features: ["project grid", "case studies"],
  animationLevel: "immersive",
  styleUniqueness: 0.8  // Highly unique
};

const layout = await layoutPlanningService.planLayout(portfolioRequest);
// Result: StickyNav â†’ AnimatedHero â†’ PortfolioGrid (bento) â†’ Stats â†’ CTA â†’ Footer

const theme = await themeSynthesisService.synthesizeTheme(portfolioRequest);
// Result: Minimal Studio palette + Inter typography
```

### Example 3: Ad Campaign Landing

```typescript
const campaignRequest: AIProjectRequest = {
  brand: {
    name: "Product Launch 2024",
    industry: "ad_campaign",
    tone: "energetic"
  },
  goals: ["generate hype", "capture emails"],
  animationLevel: "immersive",
  layoutPreference: "parallax"
};

const layout = await layoutPlanningService.planLayout(campaignRequest);
// Result: ParallaxHero â†’ ScrollingNarrative â†’ VideoEmbed â†’ CTASection (pulse)

const theme = await themeSynthesisService.synthesizeTheme(campaignRequest);
// Result: High Energy palette (red, orange, yellow) + Outfit typography
```

---

## ğŸ”§ Integration with Existing Code

### Connect to AICodeAssistant

```typescript
// In src/components/creatives/AICodeAssistant.tsx
import { layoutPlanningService } from '@/services/ai/planLayout';
import { themeSynthesisService } from '@/services/ai/synthesizeTheme';
import type { AIProjectRequest } from '@/types/aiWebBuilder';

const handleGenerateWebsite = async () => {
  // Step 1: Parse user message into AIProjectRequest
  const request: AIProjectRequest = parseUserMessage(message);
  
  // Step 2: Generate layout plan
  const layoutResponse = await layoutPlanningService.planLayout(request);
  
  // Step 3: Synthesize theme
  const themeResponse = await themeSynthesisService.synthesizeTheme(request);
  
  // Step 4: Send to edge function for code generation
  const { data } = await supabase.functions.invoke('ai-code-assistant', {
    body: {
      layoutPlan: layoutResponse.plan,
      theme: {
        colorPalette: themeResponse.colorPalette,
        typography: themeResponse.typography
      },
      componentLibrary: components  // From components.json
    }
  });
  
  // Step 5: Render generated code
  setGeneratedCode(data.code);
};
```

### Update Edge Function System Prompt

Add to `supabase/functions/ai-code-assistant/index.ts`:

```typescript
const systemPrompt = `
You are an expert web designer and developer.

COMPONENT LIBRARY:
You have access to 40+ professional components:
${JSON.stringify(componentLibrary, null, 2)}

LAYOUT PLAN:
${JSON.stringify(layoutPlan, null, 2)}

COLOR PALETTE:
${JSON.stringify(colorPalette, null, 2)}

TYPOGRAPHY:
${JSON.stringify(typography, null, 2)}

INSTRUCTIONS:
1. Generate production-ready React + TypeScript + Tailwind CSS code
2. Use components from the layout plan in the specified order
3. Apply the color palette consistently
4. Use typography system for all text elements
5. Include Framer Motion animations as specified
6. Ensure responsive design (mobile, tablet, desktop)
7. Follow component variant specifications exactly

OUTPUT:
Generate complete, copy-paste ready code that renders immediately.
`;
```

---

## ğŸ“Š Component Specifications

Each component in `components.json` includes:

```json
{
  "component": "AnimatedHero",
  "category": "hero",
  "tags": ["hero", "landing", "animated"],
  "defaultVariant": "gradient",
  "variants": [
    {
      "key": "gradient",
      "name": "Gradient Background",
      "description": "Full-screen hero with animated gradient",
      "layout": "full-width",
      "complexity": 4,
      "useCases": ["SaaS", "tech", "modern"],
      "props": {
        "fullScreen": true,
        "gradient": true,
        "particles": true
      }
    }
  ]
}
```

**Fields:**
- `component` - Component identifier
- `category` - navigation | hero | content | interactive | media | cta | footer | stats
- `tags` - Searchable keywords
- `defaultVariant` - Recommended variant
- `variants` - Array of visual/functional variations
  - `key` - Variant identifier
  - `name` - Display name
  - `description` - When to use this variant
  - `layout` - full-width | container | split | grid | flex
  - `complexity` - 1 (simple) to 5 (complex)
  - `useCases` - Industries/scenarios
  - `props` - Component configuration

---

## ğŸ¯ Industry Templates

Pre-configured patterns in `templates/`:

### Restaurant Template

```json
{
  "recommendedComponents": [
    { "component": "VideoHero", "variants": ["overlay"], "priority": "required" },
    { "component": "InteractiveMenu", "variants": ["tabs"], "priority": "required" },
    { "component": "Gallery", "variants": ["masonry"], "priority": "recommended" },
    { "component": "BookingForm", "variants": ["inline"], "priority": "required" }
  ],
  "layoutPatterns": [
    {
      "name": "Full Experience",
      "complexity": 4,
      "structure": [ /* 6 sections */ ]
    }
  ],
  "contentGuidelines": {
    "heroMessage": ["Experience the art of [cuisine]", ...],
    "valueProps": ["Farm-to-table ingredients", ...],
    "ctaVariants": ["Reserve Your Table", ...]
  }
}
```

---

## ğŸš€ Benefits

### For Users:
1. **Industry-Optimized** - Components selected for specific business types
2. **Brand-Consistent** - Colors and typography match brand personality
3. **Conversion-Focused** - Layout patterns proven to drive results
4. **Professional Quality** - Every detail crafted by design experts

### For Developers:
1. **Type-Safe** - Full TypeScript support
2. **Modular** - Reusable component system
3. **Extensible** - Easy to add new components/industries
4. **Maintainable** - Clear separation of concerns

### For AI:
1. **Structured Input** - Clear project requirements
2. **Guided Output** - Component library constraints
3. **Consistent Quality** - Industry-tested patterns
4. **Smart Defaults** - Fallbacks for every decision

---

## ğŸ“ˆ Next Steps

1. **Implement React Code Generator** (`generateReact.ts`)
   - Compile layout plans into TSX components
   - Inject theme tokens (CSS variables)
   - Add Framer Motion animations
   - Generate responsive breakpoints

2. **Connect to Edge Function**
   - Update system prompt with architecture
   - Pass layout plan + theme to AI
   - Return production-ready code

3. **Build UI Components**
   - Create actual React components for each type
   - Implement all specified variants
   - Test across browsers/devices

4. **Add More Industries**
   - SaaS template
   - Ecommerce template
   - Blog template
   - Agency template

---

## ğŸ’¡ Design Philosophy

This architecture implements:

1. **Component-Based Design** - Modular, reusable building blocks
2. **Industry Intelligence** - Patterns proven for specific businesses
3. **Brand Flexibility** - Customizable while maintaining quality
4. **Animation Hierarchy** - Subtle â†’ Immersive based on brand tone
5. **Conversion Optimization** - Every component designed to drive action
6. **Responsive-First** - Mobile, tablet, desktop considerations
7. **Accessibility** - WCAG compliance in all components
8. **Performance** - Optimized animations and lazy loading

---

## ğŸ”— File Structure

```
src/
â”œâ”€â”€ types/
â”‚   â””â”€â”€ aiWebBuilder.ts                    # âœ… Complete type system
â”œâ”€â”€ services/
â”‚   â””â”€â”€ ai/
â”‚       â”œâ”€â”€ planLayout.ts                  # âœ… Layout planning engine
â”‚       â”œâ”€â”€ synthesizeTheme.ts             # âœ… Theme generation
â”‚       â”œâ”€â”€ generateReact.ts               # â³ TODO: React compiler
â”‚       â”œâ”€â”€ analyzeNovelty.ts              # â³ TODO: Uniqueness scoring
â”‚       â””â”€â”€ data/
â”‚           â”œâ”€â”€ components.json            # âœ… 40+ components
â”‚           â”œâ”€â”€ animationPresets.json      # âœ… 20+ animations
â”‚           â””â”€â”€ templates/
â”‚               â”œâ”€â”€ restaurant.json        # âœ… Restaurant patterns
â”‚               â”œâ”€â”€ portfolio.json         # âœ… Portfolio patterns
â”‚               â”œâ”€â”€ campaign.json          # âœ… Campaign patterns
â”‚               â”œâ”€â”€ saas.json              # â³ TODO
â”‚               â”œâ”€â”€ ecommerce.json         # â³ TODO
â”‚               â””â”€â”€ agency.json            # â³ TODO
```

**Legend:**
- âœ… Complete and tested
- â³ TODO / In progress

---

## ğŸ“š Resources

- [Framer Motion Docs](https://www.framer.com/motion/)
- [Tailwind CSS](https://tailwindcss.com)
- [React TypeScript](https://react-typescript-cheatsheet.netlify.app/)
- [Web Design Principles](https://www.nngroup.com/articles/)

---

**Built with â¤ï¸ for intelligent, beautiful, conversion-optimized web design**
